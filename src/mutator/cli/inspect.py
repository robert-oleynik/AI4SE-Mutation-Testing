import pathlib

import click

from ..helper.timed import timed
from ..inspect.app import InspectApp


@click.command(
    help="""
    View the generated mutant with the associated metadata generated by the test step.
    Use this sub command to add annotations to the test result. Requires to run `test`
    before.
    """
)
@click.option(
    "-o",
    "--out-dir",
    type=pathlib.Path,
    default=pathlib.Path("out", "mutants"),
    show_default=True,
    help="Path to directory containing the mutants. Same as for `test`",
)
@click.option(
    "-p",
    "--project",
    type=pathlib.Path,
    default=pathlib.Path("."),
    show_default=True,
    help="Path to project directory",
)
@timed
def inspect(out_dir, project):
    app = InspectApp(project, out_dir)
    app.run()
